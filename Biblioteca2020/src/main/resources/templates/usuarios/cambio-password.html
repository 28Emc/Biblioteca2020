<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="layout/layout :: head"></head>
<body>
	<header th:replace="layout/layout :: header"></header>
	<div class="container my-5">

		<input type="hidden" id="csrfToken" value="${_csrf.token}" /> <input
			type="hidden" id="csrfHeader" value="${_csrf.headerName}" />

		<h1 class="text-warning" th:text="${titulo}"></h1>
		<form class="form" role="form" th:action="@{/usuarios/cambioPassword}"
			id="cambiarPasswordForm" th:object="${passwordForm}" method="post">
			<input class="form-control" type="hidden"
				th:field="${passwordForm.id}">
			<div class="form-group row">
				<label class="col-lg-5 col-form-label form-control-label">Contraseña
					Actual</label>
				<div class="col-lg-7">
					<input class="form-control" type="password"
						th:field="${passwordForm.passwordActual}" required autofocus>
					<div class="alert-danger"
						th:if="${#fields.hasErrors('passwordActual')}"
						th:errors="*{passwordActual}">Password Actual</div>
				</div>
			</div>
			<div class="form-group row">
				<label class="col-lg-5 col-form-label form-control-label">Nueva
					Contraseña</label>
				<div class="col-lg-7">
					<input class="form-control" type="password"
						th:field="${passwordForm.nuevaPassword}" required>
					<div class="alert-danger"
						th:if="${#fields.hasErrors('nuevaPassword')}"
						th:errors="*{nuevaPassword}">Password Nueva</div>
				</div>
			</div>
			<div class="form-group row">
				<label class="col-lg-5 col-form-label form-control-label">Confirmar
					Contraseña</label>
				<div class="col-lg-7">
					<input class="form-control" type="password"
						th:field="${passwordForm.confirmarPassword}" required>
					<div class="alert-danger"
						th:if="${#fields.hasErrors('confirmarPassword')}"
						th:errors="*{confirmarPassword}">Confirmar Password</div>
				</div>
			</div>

			<div class="col-lg-12">
				<div class="alert alert-danger text-center"
					id="cambiarPasswordError" th:if="${cambiarPasswordError!=null}"
					th:text="${cambiarPasswordError}">Cambiar Password Error</div>
			</div>

			<div class="row">
				<div class="col-6">
					<a class="btn btn-light btn-block" th:href="@{'/home'}">Cancelar</a>
				</div>
				<div class="col-6">
					<input class="btn btn-dark btn-block" type="submit"
						th:value="'Guardar Cambios'" />
				</div>
			</div>
		</form>

	</div>

	<footer th:replace="layout/layout :: footer"></footer>
</body>
</html>